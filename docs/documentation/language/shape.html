---
layout: documentation
title: Malloy Documentation
footer: /generated/footers/language/shape.html
---

<div class="document">
      <h1>
        <a id="shape-definition" class="header-link anchor" href="#shape-definition">
          Shape Definition
        </a>
      </h1>
    <p>A shape is a data source and a list of additional properties which
extend the original source in preparation for a
passing it to a transformation stage.</p>
<ul>
<li><p>shape: <em>source</em> fields <em>joins</em></p>
</li></ul>

      <h2>
        <a id="source" class="header-link anchor" href="#source">
          Source
        </a>
      </h2>
    <p>A source can be an existing SQL table or view, or it can  be
a Malloy query, which can either be defined in line,
or referenced by name (see the <a href="statement.html">Models</a>
section for more information on that)</p>
<p>A shape can be filtered, it can be given a <code class="language-malloy"><span class="token keyword">primary</span> <span class="token keyword">key</span></code> so it can be
used in a join, and a shape may select some or all of the fields in
the <em>dataSource</em> to be included or excluded from the shape.</p>
<ul>
<li><p>source: <em>dataSource</em> <em>filters</em> <em>primaryKey</em> <em>fieldEdit</em></p>
</li>
<li><p>dataSource: <code class="language-malloy">'</code> <em>table</em> <em>name</em> <code class="language-malloy">'</code> | <code class="language-malloy"><span class="token punctuation">(</span></code> <em>query</em> <code class="language-malloy"><span class="token punctuation">)</span></code> | <em>query</em> <em>name</em></p>
</li>
<li><p><em>primaryKey</em>: <code class="language-malloy"><span class="token keyword">primary</span> <span class="token keyword">key</span></code> <em>fieldName</em></p>
</li>
<li><p><em>fieldEdit</em>: ( <code class="language-malloy"><span class="token keyword">accept</span></code> <em>fieldNameList</em> | <code class="language-malloy"><span class="token keyword">except</span></code> <em>fieldNameLlist</em> )</p>
</li></ul>

      <h2>
        <a id="joins" class="header-link anchor" href="#joins">
          Joins
        </a>
      </h2>
    <p>The tables joined to a shape are an important aspect of its definition. Read more about joins <a href="join.html">here</a>.</p>
</div>